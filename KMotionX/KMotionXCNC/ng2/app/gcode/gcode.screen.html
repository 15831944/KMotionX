<div class="row  fill">
  <div class="hidden-xs col-md-3">
    <kmx-dro></kmx-dro>
    <kmx-log title="Error log" consoleId="error" color="red"></kmx-log>
    <kmx-log title="Console" consoleId="console" color="blue"></kmx-log>
  </div>
  <div class="col-xs-9 col-md-6">
    <!-- WebGL rendering area -->
    <!--
    -->
    <three-viewer #tv id="renderArea" style="display:block" three-viewe2r="kmx.kmxThreeViewData" class="threerenderer fill"></three-viewer>

  </div>
  <div class="col-xs-3 col-md-3">
    <file-dialog #fd (selectedFile)="onOpenFile($event)" [resource]="resource"> </file-dialog>
    <div>
      <div class="btn-toolbar">
        <div class="btn-group btn-group-sm btn-group-justified">
          <div *ngIf="intStatus.interpreting" class="btn btn-primary active" (click)="onCycleStart()"><span class='glyphicon glyphicon-pause'></span>Halt</div>
          <div *ngIf="!intStatus.interpreting" class="btn btn-primary" (click)="onCycleStart()"><span class='glyphicon glyphicon-play'></span>Cycle Start</div>
          <div class="btn btn-primary" [ngClass]="intStatus.feedHold ? 'active' : ''" (click)="onFeedhold()"><span class='glyphicon'></span>Feed Hold</div>
        </div>
      </div>
      <div class="btn-toolbar">
        <div class="btn-group btn-group-sm btn-group-justified">
          <div class="btn btn-danger" (click)="onEmergencyStop()"><span class='glyphicon glyphicon-remove'></span>E-Stop</div>
          <div class="btn btn-primary" (click)="onStep()"><span class='glyphicon glyphicon-step-forward'></span>Step</div>
          <div class="btn btn-primary" (click)="onReset()"><span class='glyphicon glyphicon-fast-backward'></span>Reset</div>
        </div>
      </div>
      <div>Editor line:{{intStatus.currentLine +1}}</div>
      <div>Interpreter line:{{intStatus.currentLine}}</div>
    </div>
    <div file-dropzone (dropped)="onOpenFile($event)">
      <div>
        <span class="glyphButtonBar">
                <span class="btn btn-primary glyphicon glyphicon-folder-open" title="Open" (click)="fd.open()"></span>
        <span class="btn btn-primary glyphicon glyphicon-floppy-save" title="Save" (click)="onSave()"></span>
        </span>
      </div>
      <div style="width:400px;height:300px;background-color:#f0f0f0">
        <file-path [resource]="resource"></file-path>
        <div aceEditor [text]="gcodetext" mode="gcode"></div>
      </div>
    </div>


    <!--
        -->
    <hr>
    <user-defined-buttons></user-defined-buttons>
  </div>
</div>